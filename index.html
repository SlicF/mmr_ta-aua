<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard da Ta√ßa UA</title>
    <link rel="icon" type="image/png" href="assets/ta√ßa_ua.png">
    <link rel="shortcut icon" type="image/png" href="assets/ta√ßa_ua.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="debug.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Dashboard da Ta√ßa UA</h1>
        </div>

        <div class="modalidade-selector">
            <label for="epoca">√âpoca:</label>
            <select id="epoca" name="epoca">
                <!-- √âpocas ser√£o carregadas dinamicamente -->
            </select>

            <label for="modalidade">Modalidade:</label>
            <select id="modalidade" name="modalidade">
                <!-- Modalidades ser√£o carregadas dinamicamente baseadas na √©poca -->
            </select>
        </div>

        <div class="dashboard-grid">
            <!-- Gr√°fico de ELO -->
            <div class="card chart-card">
                <!-- Filtros r√°pidos -->
                <div class="quick-filters" id="quickFilters">
                    <!-- Filtros ser√£o gerados dinamicamente baseados na modalidade -->
                </div>
                <div class="chart-header">
                    <div class="card-title">Evolu√ß√£o de ELO das Equipas</div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" data-zoom="in" title="Zoom In" aria-label="Aumentar zoom">üîç+</button>
                        <button class="zoom-btn" data-zoom="out" title="Zoom Out"
                            aria-label="Diminuir zoom">üîç-</button>
                        <button class="zoom-btn" data-zoom="reset" title="Reset Zoom"
                            aria-label="Resetar zoom">‚ü≤</button>
                        <button class="zoom-btn" data-action="toggle-pan" id="panModeBtn" title="Pan Mode"
                            aria-label="Ativar/desativar modo de panor√¢mica">‚úã</button>
                    </div>
                </div>
                <div class="chart-wrapper">
                    <div class="chart-container">
                        <canvas id="eloChart"></canvas>
                        <div class="team-end-labels" id="teamEndLabels">
                            <!-- Labels din√¢micos ser√£o gerados aqui -->
                        </div>
                    </div>
                    <div class="team-selector" id="teamSelector">
                        <!-- Checkboxes ser√£o gerados dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Tabela de Classifica√ß√£o -->
            <div class="card ranking-card">
                <div class="card-title">Classifica√ß√£o Geral</div>
                <div class="division-selector" id="divisionSelector">
                    <!-- Bot√µes de divis√£o ser√£o gerados dinamicamente -->
                </div>
                <div class="group-selector" id="groupSelector" style="display: none;">
                    <!-- Bot√µes de grupo ser√£o gerados dinamicamente -->
                </div>

                <!-- Legenda dos indicadores de progress√£o (gerada dinamicamente) -->
                <div class="progression-legend" id="progressionLegend" style="display: none;">
                    <!-- Ser√° preenchido dinamicamente via JavaScript -->
                </div>

                <div class="table-wrapper">
                    <table class="rankings-table" id="rankingsTable">
                        <thead>
                            <tr>
                                <th>Pos.</th>
                                <th>Equipa</th>
                                <th>Pts</th>
                                <th>J</th>
                                <th>V</th>
                                <th class="draws-column">E</th>
                                <th>D</th>
                                <th style="color: red;">FC</th>
                                <th>GM</th>
                                <th>GS</th>
                                <th>¬±</th>
                            </tr>
                        </thead>
                        <tbody id="rankingsBody">
                            <!-- Dados ser√£o preenchidos dinamicamente -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Calend√°rio de Jogos -->
            <div class="card calendar-card">
                <div class="card-title">Calend√°rio de Jogos</div>

                <!-- Navega√ß√£o de Jornadas -->
                <div class="jornada-navigation">
                    <div class="jornada-arrow-container">
                        <button class="jornada-arrow" id="prevJornadaBtn" data-jornada-nav="prev"
                            title="Jornada anterior" aria-label="Navegar para jornada anterior">
                            &lt;
                        </button>
                        <div class="epoca-switch-label" id="prevEpocaLabel" style="display: none;"></div>
                    </div>
                    <div class="jornada-title" id="jornadaTitle">
                        Selecione uma modalidade
                    </div>
                    <div class="jornada-arrow-container">
                        <button class="jornada-arrow" id="nextJornadaBtn" data-jornada-nav="next"
                            title="Jornada seguinte" aria-label="Navegar para pr√≥xima jornada">
                            &gt;
                        </button>
                        <div class="epoca-switch-label" id="nextEpocaLabel" style="display: none;"></div>
                    </div>
                </div>

                <!-- Seletores de Divis√£o e Grupo (igual √† classifica√ß√£o) -->
                <div class="division-selector" id="calendarDivisionSelector" style="display: none;">
                    <!-- Bot√µes de divis√£o ser√£o gerados dinamicamente -->
                </div>
                <div class="group-selector" id="calendarGroupSelector" style="display: none;">
                    <!-- Bot√µes de grupo ser√£o gerados dinamicamente -->
                </div>

                <div class="games-list" id="gamesList">
                    <div class="no-games-message">Selecione uma modalidade para ver os jogos</div>
                </div>
            </div>
        </div>

        <!-- Bracket -->
        <div class="card">
            <div class="card-title">Bracket de Elimina√ß√£o</div>
            <div class="bracket-container">
                <div class="bracket" id="bracketContainer">
                    <!-- Bracket ser√° gerado dinamicamente -->
                </div>
            </div>
        </div>

        <!-- Bracket Secund√°rio (Manuten√ß√£o/Promo√ß√£o) -->
        <div class="card" id="secondaryBracketCard" style="display: none;">
            <div class="card-title" id="secondaryBracketTitle">Playoff/Liguilha</div>
            <div class="bracket-container">
                <div class="bracket" id="secondaryBracketContainer">
                    <!-- Bracket secund√°rio ser√° gerado dinamicamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Debug Panel (oculto por padr√£o) -->
    <div id="debug-panel"
        style="display: none; position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.9); color: white; padding: 10px; border-radius: 5px; z-index: 10000; font-family: monospace; font-size: 12px;">
        <div style="margin-bottom: 10px; font-weight: bold;">üêõ Debug Panel</div>
        <button data-debug="enable" style="margin: 2px; padding: 5px; font-size: 11px;">Ativar Debug</button>
        <button data-debug="enable-all" style="margin: 2px; padding: 5px; font-size: 11px;">Debug Verbose</button>
        <button data-debug="disable" style="margin: 2px; padding: 5px; font-size: 11px;">Desativar</button>
        <button data-debug="close" style="margin: 2px; padding: 5px; font-size: 11px;">Fechar</button>
    </div>

    <script src="app.js"></script>
</body>

</html>